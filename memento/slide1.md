# Паттерн Memento

---

## Что делает паттерн Memento?

Memento- это поведенческий паттерн проектирования, который позволяет сохранять и восстанавливать предыдущее состояние объекта без раскрытия деталей его реализации

Основная цель:
- Сохранение состояния объекта
- Возможность отката к предыдущим состояниям 
- Инкапсуляция деталей состояния

---

## Проблема
Ситуации, когда нужен Memento:
- Необходимость реализовать механизм отмены операций (undo)
- Требуется сохранять состояние объекта для последующего восстановления
- Прямой доступ к состоянию объекта нарушает инкапсуляцию

Примеры:
- Текстовый редактор с историей изменений
- Игры с возможностью сохранения/загрузки
- Финансовые транзакции с откатом

---

## Решение

Структура паттерна:
- Originator - создает снимки своего состояния
- Memento - хранит состояние Originator
- Caretaker - управляет историей снимков

Key принцип: Originator создает Memento с текущим состоянием и может восстановить состояние из Memento.

---

### Преимущества

- Сохраняет инкапсуляцию
- Упрощает создание механизма отмены 
- Позволяет хранить историю состояний 
- Разделяет ответственность за сохранение состояния

---

### Недостатки

- Может потреблять много памяти при частых сохранениях
- Усложняет код дополнительными классами 
- Originator должен раскрывать достаточно информации для Memento

---

### Применение

Типичные сценарии использования:
- Редакторы (текст, графика) с undo/redo
- Игровые сохранения
- Транзакционные системы
- Системы контроля версий

---

### Альтернативы

Другие подходы:
- Command + undo operations
- Prototype для клонирования состояния
- Сериализация объекта

---

### Пример кода

---